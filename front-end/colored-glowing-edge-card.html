<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Colored, Glowing Edge Card</title>
    <style>
        @import url(https://fonts.bunny.net/css?family=amaranth:400,400i,700,700i|asap-condensed:200,300i,400,400i,600,700,900|kode-mono:400,500,600,700);

        :root {
            --h: 222;
            --s: 20%;
            --l: 22%;

            --canvas: var(--h);
            --bg: hsl(var(--canvas), 15%, 22%);
            --fg: hsl(var(--canvas), 39%, 95%);
            --link: hsl(var(--canvas), 90%, 80%);
            --linkh: hsl(150, 95%, 70%);
            --wgt: 200;

            --light: hsl(var(--h), var(--s), 95%);
            --dark: hsl(var(--h), var(--s), 20%);
            --tint: hsl(160, 85%, 60%);
            --tint2: hsl(200, 85%, 60%);
            --pads: 16px;
            --cols: 1fr;
            --radius: 16px;

            --labels: hsl(var(--h), var(--s), 55%);
            --b: hsla(var(--h), var(--s), 100%, 1);
            --svg: var(--fg);

            --thumb-shadow: 0px 1px 0px rgba(17, 17, 26, 0),
            0px 2px 2px rgba(17, 17, 26, 0),
            0px 4px 4px rgba(17, 17, 26, 0);

            --thumb-shadow-on: 0px 1px 0px rgba(17, 17, 26, 0.2),
            0px 2px 6px rgba(17, 17, 26, 0.2),
            0px 4px 12px rgba(17, 17, 26, 0.2);

            --spring: linear(
                    0, 0.009, 0.035 2.1%, 0.142 4.6%, 0.283 6.9%, 0.726 13.3%, 0.941 17.2%, 1.02,
                    1.08, 1.124, 1.153 24.9%, 1.163, 1.167, 1.165, 1.157 30.7%, 1.132 33.7%,
                    1.051 40.7%, 1.017 44.2%, 0.99, 0.975 52.2%, 0.972 55.2%, 0.974 58.5%,
                    0.996 71.5%, 1.003, 1.005 85.7%, 1
            );

            --bounce: linear(0, 0.199 14.6%, 0.37 23.8%, 0.591 32.2%, 0.999 44.7%, 0.793 52.7%,
            0.745 56.1%, 0.728 59.5%, 0.74 62.5%, 0.778 65.7%, 0.999 77.4%, 0.956 81.3%, 0.943 84.9%, 0.951 88%, 0.993 95.5%, 1);

        }

        #app {
            display: grid;
            grid-template-columns: var(--cols);
            gap: var(--pads);
            min-height: 100%;
        }

        body {
            padding: calc(var(--pads) * 1.5);
            font-family: 'Asap Condensed', sans-serif;
            font-weight: 400;
            font-size: 1rem;
            color: var(--fg);
            background-color: #171820;
            background-image: linear-gradient(
                    180deg,
                    hsl(var(--h), var(--s), 8%),
                    hsl(var(--h), var(--s), 14%)
            );
            background-size: cover;
        }

        body,
        html {
            min-height: 100%;
        }

        * {
            box-sizing: border-box;
        }

        form,
        .form,
        .light {
            --bor: hsl(var(--h), var(--s), 85%);
            --bg: var(--light);
            --fg: var(--dark);
        }

        form,
        .form {
            color: var(--fg);
            background-color: var(--bg);
            min-width: 100%;
            width: 100%;
            padding: calc(var(--pads) * 0.5) calc(var(--pads) * 1.5) calc(var(--pads) * 1);
            border-radius: var(--radius);
            box-shadow: 0 2px 3px hsla(var(--h), var(--s), 8%, 50%);
        }

        .dark {
            --bor: hsl(var(--h), var(--s), 35%);
            --bg: var(--dark);
            --fg: var(--light);
            --labels: hsl(var(--h), var(--s), 65%);
            --b: hsla(var(--h), var(--s), 12%, 1);
            --tint: hsl(260, 85%, 60%);
            --tint2: hsl(300, 85%, 60%);
        }

        fieldset {
            min-width: 100%;
            width: 100%;
            border: 1px solid var(--bor);
            border-radius: calc(var(--radius) / 2);
            padding: var(--pads) calc(var(--pads) * 1.5);
            margin-block: var(--pads);
        }

        legend {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 2em;
            transform: translateX(-1em);
        }

        label {
            display: block;
            width: -webkit-max-content;
            width: -moz-max-content;
            width: max-content;
            font-size: 0.875rem;
            text-transform: uppercase;
            -webkit-margin-start: 0;
            margin-inline-start: 0;
            -webkit-margin-after: 0.5em;
            margin-block-end: 0.5em;
            color: var(--labels);
            transition: all 0.5s ease;
        }

        .field:focus-within label {
            color: var(--fg);
        }

        .field {
            margin-block: 2.5em;
        }

        .field:nth-of-type(1) {
            -webkit-margin-before: 1em;
            margin-block-start: 1em;
        }

        .field:nth-last-of-type(1) {
            -webkit-margin-after: 1em;
            margin-block-end: 1em;
        }

        input,
        select,
        button,
        textarea {
            font-family: inherit;
            color: var(--fg);
            background: var(--b);
            padding: 0.875em;
            border-radius: calc(var(--radius) / 2);
            border: 1px solid transparent;
            outline: 1px solid transparent;
            accent-color: var(--tint2);
            box-shadow: 0 3px 2px -3px var(--bor);
            transition: border 0.3s ease-in, outline 0.6s ease-in, box-shadow 0.6s ease-in;
        }

        input,
        select,
        textarea {
            width: clamp(50%, 20em, 100%);
        }

        input:focus,
        select:focus,
        button:focus,
        textarea:focus {
            border-color: var(--tint);
            outline-color: var(--tint2);
            transition: border 0.6s ease-out, outline 0.3s ease-out,
            box-shadow 0.3s ease-out;
        }

        input::-moz-placeholder,
        select::-moz-placeholder,
        button::-moz-placeholder,
        textarea::-moz-placeholder {
            opacity: 0.33;
            font-style: italic;
        }

        input:-ms-input-placeholder,
        select:-ms-input-placeholder,
        button:-ms-input-placeholder,
        textarea:-ms-input-placeholder {
            opacity: 0.33;
            font-style: italic;
        }

        input::placeholder,
        select::placeholder,
        button::placeholder,
        textarea::placeholder {
            opacity: 0.33;
            font-style: italic;
        }

        textarea {
            width: 100%;
            min-height: 10em;
            resize: vertical;
            display: block;
        }

        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml; utf8, <svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.2929,5.292875 C12.6834,4.902375 13.3166,4.902375 13.7071,5.292875 C14.0976,5.683375 14.0976,6.316555 13.7071,6.707085 L8.70711,11.707085 C8.31658,12.097605 7.68342,12.097605 7.29289,11.707085 L2.29289,6.707085 C1.90237,6.316555 1.90237,5.683375 2.29289,5.292875 C2.68342,4.902375 3.31658,4.902375 3.70711,5.292875 L8,9.585765 L12.2929,5.292875 Z"  style="fill: hsl(222,20%,40%);"/></svg>');
            background-size: 1em;
            background-position: calc(100% - 1em) 50%;
            background-repeat: no-repeat;
        }

        .dark select {
            background-image: url('data:image/svg+xml; utf8, <svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.2929,5.292875 C12.6834,4.902375 13.3166,4.902375 13.7071,5.292875 C14.0976,5.683375 14.0976,6.316555 13.7071,6.707085 L8.70711,11.707085 C8.31658,12.097605 7.68342,12.097605 7.29289,11.707085 L2.29289,6.707085 C1.90237,6.316555 1.90237,5.683375 2.29289,5.292875 C2.68342,4.902375 3.31658,4.902375 3.70711,5.292875 L8,9.585765 L12.2929,5.292875 Z"  style="fill: hsl(222,20%,70%);"/></svg>');
        }

        input[type="radio"],
        input[type="checkbox"] {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 0;
            width: calc(1em + 8px);
            height: calc(1em + 8px);
            outline: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 100%;
        }

        input[type="radio"],
        input[type="radio"]:after,
        input[type="checkbox"] {
            transition: all 0.4s ease-in;
        }

        input[type="radio"]:focus,
        input[type="radio"]:focus:after,
        input[type="checkbox"]:focus {
            transition: all 0.3s ease-out, scale 0.5s var(--spring);
        }

        input[type="radio"]:after,
        input[type="checkbox"]:after {
            content: "";
            width: calc(100% - 8px);
            height: calc(100% - 8px);
            background: transparent;
            border-radius: 100%;
            opacity: 0.9;
            scale: 0.2;
        }

        input[type="radio"]:checked:after,
        input[type="checkbox"]:checked:after {
            background: var(--fg);
            scale: 1;
        }

        input[type="radio"]:focus,
        input[type="checkbox"]:focus {
            background-color: var(--tint);
        }

        input[type="radio"]:focus:after,
        input[type="checkbox"]:focus:after {
            opacity: 1;
        }

        input[type="radio"] + label,
        input[type="checkbox"] + label,
        label:has( + input[type="checkbox"].toggle.dual ) {
            text-transform: none;
            display: inline-flex;
            padding: 0 0.25em;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            transition: color 0.25s ease-out;
        }

        input[type="radio"]:checked + label,
        input[type="checkbox"]:checked + label,
        label:has( + input[type="checkbox"]:not(:checked).toggle.dual ) {
            font-weight: bold;
            font-style: italic;
            color: var(--fg);
        }

        input[type="radio"],
        input[type="checkbox"],
        input[type="radio"] + label,
        input[type="checkbox"] + label,
        label:has( + input[type="checkbox"].toggle.dual ) {
            &:hover {
                color: var(--fg);

                + label {
                    color: var(--fg);
                }
            }
        }

        input[type="checkbox"] {
            border-radius: 5px;
        }

        input[type="checkbox"]:after,
        input[type="checkbox"]:focus:after {
            opacity: 0;
            translate: 0% -100%;
            scale: 1;
        }

        input[type="checkbox"]:after {
            transition: opacity 0.2s ease-in, translate 0.4s ease-in;
        }

        input[type="checkbox"]:checked:after {
            opacity: 1;
            translate: 0% 0%;
            transition: opacity 0.15s ease-out 0.1s, translate 0.4s var(--bounce);
        }

        input[type="checkbox"]:after,
        input[type="checkbox"]:checked:after {
            background-color: transparent;
            background-image: url('data:image/svg+xml; utf8, <svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.7071,4.29289 C14.0976,4.68342 14.0976,5.31658 13.7071,5.70711 L7.70711,11.7071 C7.31658,12.0976 6.68342,12.0976 6.29289,11.7071 L3.29289,8.70711 C2.90237,8.31658 2.90237,7.68342 3.29289,7.29289 C3.68342,6.90237 4.31658,6.90237 4.70711,7.29289 L7,9.58579 L12.2929,4.29289 C12.6834,3.90237 13.3166,3.90237 13.7071,4.29289 Z"  style="fill: hsl(222,20%,40%);"/></svg>');
            background-size: 1.2em;
            background-position: center;
        }

        .dark input[type="checkbox"]:after,
        .dark input[type="checkbox"]:checked:after {
            background-image: url('data:image/svg+xml; utf8, <svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.7071,4.29289 C14.0976,4.68342 14.0976,5.31658 13.7071,5.70711 L7.70711,11.7071 C7.31658,12.0976 6.68342,12.0976 6.29289,11.7071 L3.29289,8.70711 C2.90237,8.31658 2.90237,7.68342 3.29289,7.29289 C3.68342,6.90237 4.31658,6.90237 4.70711,7.29289 L7,9.58579 L12.2929,4.29289 C12.6834,3.90237 13.3166,3.90237 13.7071,4.29289 Z"  style="fill: hsl(222,20%,95%);"/></svg>');
        }

        input[type="checkbox"].toggle {
            --aspect: 1.75;
            --ratio: var(--aspect)/1;
            --gap: 3px;

            cursor: pointer;
            text-indent: -9999px;
            width: auto;
            height: calc(1em + var(--gap) * 4);
            aspect-ratio: var(--ratio);
            display: block;
            border-radius: calc(1em + var(--gap) * 4);
            position: relative;
            padding: 0;
            background: var(--b);
        }

        input[type="checkbox"].toggle:after {
            content: "";
            width: auto;
            height: calc(100% - var(--gap) * 2);
            aspect-ratio: 1;
            border-radius: 100%;
            position: absolute;
            inset: 0;
            right: auto;
            background: var(--fg);
            translate: var(--gap) var(--gap);
            transition: translate 0.5s var(--spring), scale 0.5s var(--spring), aspect-ratio 0.5s var(--spring);
            opacity: 0.9;
            scale: 0.8 0.8;
            transform-origin: left center;
        }

        input[type="checkbox"].toggle:active {
            &:after {
                scale: 1.15 0.9;
            }

            &:checked:after {
                scale: 1.2 1;
                transform-origin: right center;
            }
        }

        input[type=checkbox].toggle:focus {
            background: color-mix(in hsl, var(--tint), transparent 90%);
        }

        input[type=checkbox].toggle:checked:focus {
            background: var(--tint);
        }

        input[type=checkbox].toggle:checked:after {
            translate: calc((1em + var(--gap) * 4) * var(--aspect) - (100% + var(--gap) + 1px)) var(--gap);
            opacity: 1;
            scale: 1;
        }

        .range {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-block: 1em;
        }

        .range label {
            margin: 0;
            min-width: -webkit-max-content;
            min-width: -moz-max-content;
            min-width: max-content;
            text-transform: none;
            font-size: 0.75em;
        }

        .range:first-child {
            text-align: right;
        }

        .range:last-child {
            text-align: left;
        }

        input[type="range"] {
            --pad: calc(var(--pads) / 4);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: calc(100% - 1em);
            height: calc(1em + var(--pad) * 2);
            background: var(--b);
            border: none;
            outline: none;
            padding: 0 var(--pad);
            border-radius: 1em;

            &:not(:first-child) {
                margin-inline-start: 0.5em;
            }

            &:not(:last-child) {
                margin-inline-end: 0.5em;
            }
        }

        input[type="range"],
        input[type="range"] * {
            transition: all 0.5s ease;
        }

        input[type="range"]::-webkit-slider-runnable-track {
            background: linear-gradient(90deg, var(--tint) -25%, var(--tint2) 125%);
            display: block;
            width: calc(100% + var(--pad) * 2);
            height: calc(1em + var(--pad) * 2);
            border-radius: 1em;
            margin-inline: calc(var(--pad) * -1);
            -webkit-transition: opacity 0.5s ease-in, background 0.5s ease-in;
            transition: opacity 0.5s ease-in, background 0.5s ease-in;
            opacity: 0;
            will-change: opacity, background;
            background: var(--b);
            padding: 0.25em var(--pad);
            opacity: 1;
        }

        input[type="range"]::-moz-range-track {
            background: linear-gradient(90deg, var(--tint) -25%, var(--tint2) 125%);
            display: block;
            width: calc(100% + var(--pad) * 2);
            height: calc(1em + var(--pad) * 2);
            border-radius: 1em;
            margin-inline: calc(var(--pad) * -1);
            -moz-transition: opacity 0.5s ease-in, background 0.5s ease-in;
            transition: opacity 0.5s ease-in, background 0.5s ease-in;
            opacity: 0;
            will-change: opacity, background;
        }

        input[type="range"]::-ms-track {
            background: linear-gradient(90deg, var(--tint) -25%, var(--tint2) 125%);
            display: block;
            width: calc(100% + var(--pad) * 2);
            height: calc(1em + var(--pad) * 2);
            border-radius: 1em;
            margin-inline: calc(var(--pad) * -1);
            -ms-transition: opacity 0.5s ease-in, background 0.5s ease-in;
            transition: opacity 0.5s ease-in, background 0.5s ease-in;
            opacity: 0;
            will-change: opacity, background;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 1em;
            height: 1em;
            border: none;
            outline: none;
            background: var(--fg);
            border-radius: 1em;
            transform: translate3d(0, 0, 0);
            transition: 0.5s all var(--spring);
            box-shadow: var(--thumb-shadow);
        }

        input[type="range"]:hover::-webkit-slider-thumb {
            scale: 1.33;
            transition: 0.2s all ease;
        }

        input[type="range"]:focus::-webkit-slider-thumb {
            scale: 2;
            transition: 0.33s all var(--spring);
            box-shadow: var(--thumb-shadow-on);
        }

        input[type="range"]::-moz-range-thumb {
            -moz-appearance: none;
            appearance: none;
            width: 1em;
            height: 1em;
            border: none;
            outline: none;
            background: var(--fg);
            border-radius: 1em;
            transform: translate3d(0, 0, 0);
            transition: 0.5s all var(--spring);
            box-shadow: var(--thumb-shadow);
        }

        input[type="range"]:hover::-moz-range-thumb {
            scale: 1.33;
            transition: 0.2s all ease;
        }

        input[type="range"]:focus::-moz-range-thumb {
            scale: 2;
            transition: 0.33s all var(--spring);
            box-shadow: var(--thumb-shadow-on);
        }


        input[type="range"]::-ms-thumb {
            appearance: none;
            width: 1em;
            height: 1em;
            border: none;
            outline: none;
            background: var(--fg);
            border-radius: 1em;
            transform: translate3d(0, 0, 0);
            transition: 0.5s all var(--spring);
            box-shadow: var(--thumb-shadow);
        }

        input[type="range"]:hover::-ms-thumb {
            scale: 1.33;
            transition: 0.2s all ease;
        }

        input[type="range"]:focus::-ms-thumb {
            scale: 2;
            transition: 0.33s all var(--spring);
            box-shadow: var(--thumb-shadow-on);
        }

        input[type="range"]:focus::-webkit-slider-runnable-track {
            -webkit-transition: background 0.5s ease-out;
            transition: background 0.5s ease-out;
            background: linear-gradient(90deg, var(--tint) -25%, var(--tint2) 125%);
            opacity: 1;
        }

        input[type="range"]:focus::-moz-range-track {
            -moz-transition: opacity 0.5s ease-out;
            transition: opacity 0.5s ease-out;
            opacity: 1;
        }

        input[type="range"]:focus::-ms-track {
            -ms-transition: opacity 0.5s ease-out;
            transition: opacity 0.5s ease-out;
            opacity: 1;
        }

        input[type="color"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            max-width: 4em;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.5em;
            padding: 5px;
            border-radius: 10em;
        }

        input[type="color"]::-webkit-color-swatch {
            border: none;
            border-radius: inherit;
            display: block;
        }

        input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0;
            border-radius: inherit;
        }

        input[type="color"]::-moz-color-swatch {
            border: none;
            border-radius: inherit;
            display: block;
        }

        input[type="color"]::-moz-color-swatch-wrapper {
            padding: 0;
            border-radius: inherit;
        }

        .buttons {
            display: flex;
            justify-content: flex-end;
            gap: 0.5em;
        }

        button {
            display: flex;
            align-items: center;
            gap: 0.5em;
            background: hsl(var(--h), var(--s), 90%);
            text-transform: uppercase;
            padding-inline: 2em;
            box-shadow: inset 0 0 0 1px transparent;
            transition: all 0.3s ease;
        }

        .dark button {
            background: hsl(var(--h), var(--s), 15%);
        }

        button:hover {
            opacity: 0.8;
            box-shadow: inset 0 0 0 1px var(--fg);
        }

        button[type="submit"] {
            --svg: var(--bg);
            background: var(--fg);
            color: var(--bg);
            font-weight: 600;
        }

        button svg {
            fill: var(--svg);
            height: 1em;
            width: auto;
        }

        .group {
            display: grid;
            grid-template-columns: auto 1fr;
            align-items: center;
            margin-block: 1em;
            width: -webkit-max-content;
            width: -moz-max-content;
            width: max-content;
        }

        .group input + label {
            display: inline-block;
            margin-block: 0;
            padding: 0.5em 1em;
            -webkit-margin-end: 2em;
            margin-inline-end: 2em;
        }

        .group {
            display: grid;
            grid-template-columns: auto 1fr;
            align-items: center;
            margin-block: 1em;
            width: max-content;
        }

        .group:has(.toggle.dual) {
            grid-template-columns: 1fr auto 1fr;
        }

        .group input + label {
            display: inline-block;
            margin-block: 0;
            padding: 0.5em 1em;
            margin-inline-end: 2em;
        }

        .group:has( input[type="checkbox"].toggle.dual ) label {
            margin: 0;
            padding: 0.5em 1em;
        }


        @media screen and (min-width: 600px) {
            .group {
                grid-template-columns: repeat(2, auto 1fr);
            }
        }

        @media screen and (min-width: 1200px) {
            .group {
                grid-template-columns: repeat(4, auto 1fr);
            }
        }

        a {
            color: var(--link);
            text-decoration: none;
            font-weight: 450;
            transition: all 0.3s ease;
        }

        a:hover,
        a:focus,
        a:active {
            color: var(--linkh);
        }

        .social-icon {
            stroke-width: 1.25;
            stroke: currentColor;
            fill: transparent;
            background: transparent;
            stroke-linecap: round;
            stroke-linejoin: round;
            position: fixed;
            bottom: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            z-index: 10;
            animation: iconsLoad 10s ease both 5s;
        }

        .social-icon path {
            fill: none;
        }

        .social-icon.twitter {
            right: 40px;
            animation-delay: 4s;
        }

        .social-icon.codepen {
            bottom: 10px;
            right: 80px;
            width: max-content;
            animation-delay: 3s;
        }

        @keyframes iconsLoad {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0px);
            }
        }


        h1, h2 {
            font-family: 'Amaranth', sans-serif;
            text-shadow: 0 1px 1px color-mix(in oklch, var(--bg), black);
        }

        h2 {
            font-weight: 200;
            font-style: italic;
            color: color-mix(in oklch, var(--fg) 60%, var(--bg));
        }

        h1 span {
            font-style: italic;
            color: color-mix(in oklch, var(--fg) 60%, var(--bg));
        }

        code, pre {
            font-family: 'Kode mono', monospace;
        }

        code {
            display: inline-block;
            padding-inline: 0.4em;
            border-radius: 0.2em;
            background: color-mix(in oklch, var(--bg) 85%, black);
            color: color-mix(in oklch, var(--fg) 60%, var(--tint));
            font-size: 0.875em;
        }
    </style>
    <link href="https://fonts.bunny.net/css?family=amaranth:400,400i,700,700i|asap-condensed:200,300i,400,400i,600,600i,700,700i,900,900i|kode-mono:400,500,600,700"
          rel="stylesheet">
    <style>
        :root {

            /* vars */
            --glow-sens: 30;
            --card-bg: linear-gradient(8deg, var(--dark) 75%, color-mix(in hsl, var(--dark), white 2.5%) 75.5%);
            --blend: soft-light;
            --glow-blend: plus-lighter;
            --glow-color: 40deg 80% 80%;
            --glow-boost: 0%;

        }

        .light .card {
            --card-bg: linear-gradient(8deg, color-mix(in hsl, hsl(260, 25%, 95%), var(--dark) 2.5%) 75%, hsl(260, 25%, 95%) 75.5%);
            --blend: darken;
            --glow-blend: luminosity;
            --glow-color: 280deg 90% 95%;
            --glow-boost: 15%;
            --fg: black;
            color: var(--fg);
        }

        body.light {

            background-image: linear-gradient(
                    180deg,
                    hsl(var(--h), 8%, 58%),
                    hsl(var(--h), 15%, 42%)
            );
        }


        .card {

            --pads: 40px;
            --color-sens: calc(var(--glow-sens) + 20);
            --pointer-°: 45deg;

            position: relative;
            width: clamp(320px, calc(100svw - calc(var(--pads) * 2)), 600px);
            height: calc(100svh - calc(var(--pads) * 2));
            max-height: 600px;
            border-radius: 1.768em;
            isolation: isolate;
            transform: translate3d(0, 0, 0.01px);
            display: grid;
            border: 1px solid rgb(255 255 255 / 25%);
            background: var(--card-bg);
            background-repeat: no-repeat;

            &::before,
            &::after,
            & > .glow {
                content: "";
                position: absolute;
                inset: 0;
                border-radius: inherit;
                transition: opacity 0.25s ease-out;
                z-index: -1;
            }

            &:not(:hover):not(.animating) {
                &::before,
                &::after,
                & > .glow {
                    opacity: 0;
                    transition: opacity 0.75s ease-in-out;
                }
            }

            &::before {

                /* mesh gradient border */

                border: 1px solid transparent;

                background: linear-gradient(var(--card-bg) 0 100%) padding-box,
                linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
                radial-gradient(at 80% 55%, hsla(268, 100%, 76%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 69% 34%, hsla(349, 100%, 74%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 8% 6%, hsla(136, 100%, 78%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 41% 38%, hsla(192, 100%, 64%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 86% 85%, hsla(186, 100%, 74%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 82% 18%, hsla(52, 100%, 65%, 1) 0px, transparent 50%) border-box,
                radial-gradient(at 51% 4%, hsla(12, 100%, 72%, 1) 0px, transparent 50%) border-box,
                linear-gradient(#c299ff 0 100%) border-box;

                /* opacity increases as pointer gets near edge */
                opacity: calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));

                /* border is masked to a cone, originating from the center towards the pointer */
                mask-image: conic-gradient(
                        from var(--pointer-°) at center, black 25%, transparent 40%, transparent 60%, black 75%
                );
            }

            &::after {

                /* mesh gradient background */

                border: 1px solid transparent;

                background: radial-gradient(at 80% 55%, hsla(268, 100%, 76%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 69% 34%, hsla(349, 100%, 74%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 8% 6%, hsla(136, 100%, 78%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 41% 38%, hsla(192, 100%, 64%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 86% 85%, hsla(186, 100%, 74%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 82% 18%, hsla(52, 100%, 65%, 1) 0px, transparent 50%) padding-box,
                radial-gradient(at 51% 4%, hsla(12, 100%, 72%, 1) 0px, transparent 50%) padding-box,
                linear-gradient(#c299ff 0 100%) padding-box;

                /* 5 radial masks to create a squircle-cut-out, and then a cone-gradient
                    originating from the center towards the pointer to highlight the edges */
                mask-image: linear-gradient(to bottom, black, black),
                radial-gradient(ellipse at 50% 50%, black 40%, transparent 65%),
                radial-gradient(ellipse at 66% 66%, black 5%, transparent 40%),
                radial-gradient(ellipse at 33% 33%, black 5%, transparent 40%),
                radial-gradient(ellipse at 66% 33%, black 5%, transparent 40%),
                radial-gradient(ellipse at 33% 66%, black 5%, transparent 40%),
                conic-gradient(from var(--pointer-°) at center, transparent 5%, black 15%, black 85%, transparent 95%);

                mask-composite: subtract, add, add, add, add, add;

                /* opacity increases as pointer gets near edge */
                opacity: calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
                mix-blend-mode: var(--blend);

            }

            & > .glow {

                /* glowing border edges */

                --outset: var(--pads);

                /* outer padding so the glow can overflow the element without being masked */
                inset: calc(var(--outset) * -1);
                pointer-events: none;
                z-index: 1;

                /* glow is masked to a cone, originating from the center towards the pointer */
                mask-image: conic-gradient(
                        from var(--pointer-°) at center, black 2.5%, transparent 10%, transparent 90%, black 97.5%
                );

                /* opacity increases as pointer gets near edge */
                opacity: calc((var(--pointer-d) - var(--glow-sens)) / (100 - var(--glow-sens)));
                mix-blend-mode: var(--glow-blend);

                &::before {
                    content: "";
                    position: absolute;
                    inset: var(--outset);
                    border-radius: inherit;
                    box-shadow: inset 0 0 0 1px hsl(var(--glow-color) / 100%),
                    inset 0 0 1px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 60%)),
                    inset 0 0 3px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 50%)),
                    inset 0 0 6px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 40%)),
                    inset 0 0 15px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 30%)),
                    inset 0 0 25px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 20%)),
                    inset 0 0 50px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 10%)),
                    0 0 1px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 60%)),
                    0 0 3px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 50%)),
                    0 0 6px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 40%)),
                    0 0 15px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 30%)),
                    0 0 25px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 20%)),
                    0 0 50px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 10%));;
                }
            }
        }

        .card {
            box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 2px,
            rgba(0, 0, 0, 0.1) 0px 2px 4px,
            rgba(0, 0, 0, 0.1) 0px 4px 8px,
            rgba(0, 0, 0, 0.1) 0px 8px 16px,
            rgba(0, 0, 0, 0.1) 0px 16px 32px,
            rgba(0, 0, 0, 0.1) 0px 32px 64px;
        }

        .inner {
            text-align: center;

            h2 {
                color: inherit;
                font-weight: 500;
                font-size: 1.25em;
                margin-block: 0.5em;
            }

            header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.5em 1em;

            }

            svg {
                height: 24px;
            }
        }

        h2 {
        }

        .card .inner {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            container-type: inline-size;
            position: relative;
            overflow: auto;
            z-index: 1;
        }

        .card .content {
            padding: 1em;
            font-weight: 300;
            text-align: left;
            line-height: 1.4;
            color: color-mix(var(--fg), transparent 60%);
            overflow: auto;
            scrollbar-width: none;
            mask-image: linear-gradient(to top, transparent 5px, black 2em);

            & em,
            & strong {
                color: color-mix(var(--fg), transparent 40%);
            }

            & p {
                opacity: 0;
                animation: fadeContent 1.5s ease-in-out 2s both;

                &:nth-child(2) {
                    animation-delay: 2.25s;
                }

                &:nth-child(3) {
                    animation-delay: 2.5s;
                }

                &:nth-child(4) {
                    animation-delay: 2.75s;
                }
            }
        }


        @keyframes fadeContent {
            to {
                opacity: 1;
            }
        }


        body, html {
            height: 100svh;
            overflow: auto;
            background: hsl(var(--h), 18%, 12%);
        }

        main {
            justify-items: center;
            align-content: center;
            min-height: 100%;
        }


        .sun {
            opacity: 0.25;

            &:hover {
                opacity: 1;
            }
        }

        .moon {
            opacty: 1;
        }

        .sun, .moon {
            transition: all 0.2s ease;
        }

        .light {
            --link: hsl(var(--canvas), 90%, 50%);
            --linkh: hsl(150, 85%, 40%);

            & .sun {
                opacity: 1;
            }

            & .moon {
                opacity: 0.25;

                &:hover {
                    opacity: 1;
                }
            }

            h2 {
                text-shadow: 0 1px 1px lightslategray;
            }
        }
    </style>
</head>
<body>
<main id="app">

    <div class="card">
        <span class="glow"></span>
        <div class="inner">

            <header>
                <svg class="sun" viewBox="0 0 24 24">
                    <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                       stroke-width="2">
                        <circle cx="12" cy="12" r="4"/>
                        <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>
                    </g>
                </svg>
                <h2>Colored, Glowing Edges</h2>
                <svg class="moon" viewBox="0 0 24 24">
                    <path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"
                          fill="none" stroke="currentColor" stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"/>
                </svg>
            </header>

            <footer class="content">
                <p>This is <em>somewhat different</em> to the usual colored, glowing cards you may have seen before!</p>

                <p>Building off my previous
                    Codepen (Gradient Pulse), I wanted to create a card with glowing edges,
                    and a subtle coloured border.</p>

                <p> I'm using <strong>a mesh gradient background</strong>, which
                    is masked with radial gradients to create the edge colors. Then it's <em>masked again with a
                        conic-gradient that
                        follows the direction of the pointer</em>. The glow increases in opacity as the pointer gets
                    closer to the edge.</p>

                <p>This effect feels a lot better in my opinion, than a simple radial-gradient mask that follows the
                    pointer, as the glow is
                    stuck to the edge more naturally.</p>
            </footer>

        </div>
    </div>
</main>
<script>
    const $card = document.querySelector(".card");

    const cardUpdate = (e) => {

        const position = pointerPositionRelativeToElement($card, e);
        const [px, py] = position.pixels;
        const [perx, pery] = position.percent;
        const [dx, dy] = distanceFromCenter($card, px, py);
        const edge = closenessToEdge($card, px, py);
        const angle = angleFromPointerEvent($card, dx, dy);

        $card.style.setProperty('--pointer-x', `${round(perx)}%`);
        $card.style.setProperty('--pointer-y', `${round(pery)}%`);
        $card.style.setProperty('--pointer-°', `${round(angle)}deg`);
        $card.style.setProperty('--pointer-d', `${round(edge * 100)}`);

        $card.classList.remove('animating');

    };

    $card.addEventListener("pointermove", cardUpdate);


    const centerOfElement = ($el) => {
        const {left, top, width, height} = $el.getBoundingClientRect();
        return [width / 2, height / 2];
    }

    const pointerPositionRelativeToElement = ($el, e) => {
        const pos = [e.clientX, e.clientY];
        const {left, top, width, height} = $el.getBoundingClientRect();
        const x = pos[0] - left;
        const y = pos[1] - top;
        const px = clamp((100 / width) * x);
        const py = clamp((100 / height) * y);
        return {pixels: [x, y], percent: [px, py]}
    }

    const angleFromPointerEvent = ($el, dx, dy) => {
        // in degrees
        let angleRadians = 0;
        let angleDegrees = 0;
        if (dx !== 0 || dy !== 0) {
            angleRadians = Math.atan2(dy, dx);
            angleDegrees = angleRadians * (180 / Math.PI) + 90;
            if (angleDegrees < 0) {
                angleDegrees += 360;
            }
        }
        return angleDegrees;
    }

    const distanceFromCenter = ($card, x, y) => {
        // in pixels
        const [cx, cy] = centerOfElement($card);
        return [x - cx, y - cy];
    }

    const closenessToEdge = ($card, x, y) => {
        // in fraction (0,1)
        const [cx, cy] = centerOfElement($card);
        const [dx, dy] = distanceFromCenter($card, x, y);
        let k_x = Infinity;
        let k_y = Infinity;
        if (dx !== 0) {
            k_x = cx / Math.abs(dx);
        }
        if (dy !== 0) {
            k_y = cy / Math.abs(dy);
        }
        return clamp((1 / Math.min(k_x, k_y)), 0, 1);
    }

    const round = (value, precision = 3) => parseFloat(value.toFixed(precision));

    const clamp = (value, min = 0, max = 100) =>
        Math.min(Math.max(value, min), max);


    /** code for the intro animation, not related to teh interaction */

    const playAnimation = () => {

        const angleStart = 110;
        const angleEnd = 465;

        $card.style.setProperty('--pointer-°', `${angleStart}deg`);
        $card.classList.add('animating');

        animateNumber({
            ease: easeOutCubic,
            duration: 500,
            onUpdate: (v) => {
                $card.style.setProperty('--pointer-d', v);
            }
        });

        animateNumber({
            ease: easeInCubic,
            delay: 0,
            duration: 1500,
            endValue: 50,
            onUpdate: (v) => {
                const d = (angleEnd - angleStart) * (v / 100) + angleStart;
                $card.style.setProperty('--pointer-°', `${d}deg`);
            }
        });

        animateNumber({
            ease: easeOutCubic,
            delay: 1500,
            duration: 2250,
            startValue: 50,
            endValue: 100,
            onUpdate: (v) => {
                const d = (angleEnd - angleStart) * (v / 100) + angleStart;
                $card.style.setProperty('--pointer-°', `${d}deg`);
            }
        });

        animateNumber({
            ease: easeInCubic,
            duration: 1500,
            delay: 2500,
            startValue: 100,
            endValue: 0,
            onUpdate: (v) => {
                $card.style.setProperty('--pointer-d', v);
            },
            onEnd: () => {
                $card.classList.remove('animating');
            }
        });

    }

    setTimeout(() => {
        playAnimation();
    }, 500);


    function easeOutCubic(x) {
        return 1 - Math.pow(1 - x, 3);
    }

    function easeInCubic(x) {
        return x * x * x;
    }

    function animateNumber(options) {
        const {
            startValue = 0,
            endValue = 100,
            duration = 1000,
            delay = 0,
            onUpdate = () => {
            },
            ease = (t) => t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2,
            onStart = () => {
            },
            onEnd = () => {
            },
        } = options;

        const startTime = performance.now() + delay;

        function update() {
            const currentTime = performance.now();
            const elapsed = currentTime - startTime;
            const t = Math.min(elapsed / duration, 1); // Normalize to [0, 1]
            const easedValue = startValue + (endValue - startValue) * ease(t); // Apply easing

            onUpdate(easedValue);

            if (t < 1) {
                requestAnimationFrame(update); // Continue the animation
            } else if (t >= 1) {
                onEnd();
            }
        }

        setTimeout(() => {
            onStart();
            requestAnimationFrame(update); // Start the animation after the delay
        }, delay);
    }


    /* theme switching */

    const $app = document.querySelector('#app');
    const $moon = document.querySelector(".moon");
    const $sun = document.querySelector(".sun");

    $moon.addEventListener('click', () => {
        document.body.classList.remove('light');
        $app.classList.remove('light');
    })

    $sun.addEventListener('click', () => {
        document.body.classList.add('light');
        $app.classList.add('light');
    })
</script>
</body>
</html>
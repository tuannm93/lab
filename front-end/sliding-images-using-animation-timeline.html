<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sliding Images using animation-timeline</title>
    <style>
        @import url(https://fonts.bunny.net/css?family=jura:300,500);
        @layer base, demo;

        @layer demo {

            :root {
                --scroll-height: 500svh; /* adjust this value to increased amount of scroll required */

                --gap-base: 10px;
                --size-base: 100px;
            }

            body {
                min-height: var(--scroll-height);
            }


            @property --gap {
                syntax: "<length>";
                inherits: true;
                initial-value: 0;
            }
            @property --scale {
                syntax: "<number>";
                inherits: true;
                initial-value: 1;
            }
            @property --x {
                syntax: "<percent>";
                inherits: true;
                initial-value: 0;
            }
            @property --y {
                syntax: "<percent>";
                inherits: true;
                initial-value: 0;
            }
            @property --text-opacity {
                syntax: "<number>";
                inherits: true;
                initial-value: 1;
            }
            @property --mouse-rotate {
                syntax: "<angle>";
                inherits: true;
                initial-value: 0deg;
            }
            @property --mouse-w {
                syntax: "<length>";
                inherits: true;
                initial-value: 600px;
            }
            @property --center-x {
                syntax: "<length>";
                inherits: true;
                initial-value: -250px;
            }
            @property --center-y {
                syntax: "<length>";
                inherits: true;
                initial-value: -250px;
            }

            .wrapper {
                --gap: 1rem;
                --x: 0;
                --scale: 1;
                position: fixed;
                inset: 0;
                width: 100vw;
                height: 100svh;

                display: grid;
                grid-template-columns: 1fr 2fr var(--size-base) 2fr 1fr;
                grid-template-rows: 1fr var(--size-base) 1fr;
                grid-template-areas:
		"one 	two		two 		three 	four"
		"one 	six 	center 	three 	eight"
		"five six 	seven 	seven 	eight";
                gap: var(--gap);
            }

            div {
                background-image: var(--bg);
                background-size: cover;
                background-position: center;

                &:nth-child(1) {
                    grid-area: one;
                    --x: -500%;
                    --y: -200%;
                }

                &:nth-child(2) {
                    grid-area: two;
                    --x: -75%;
                    --y: -200%;
                }

                &:nth-child(3) {
                    grid-area: three;
                    --x: 200%;
                    --y: 0;
                }

                &:nth-child(4) {
                    grid-area: four;
                    --x: 500%;
                    --y: -200%;
                }

                &:nth-child(5) {
                    grid-area: five;
                    --x: -500%;
                    --y: 100%;
                }

                &:nth-child(6) {
                    grid-area: six;
                    --x: -200%;
                    --y: 0;
                }

                &:nth-child(7) {
                    grid-area: seven;
                    --x: 75%;
                    --y: 200%;
                }

                &:nth-child(8) {
                    grid-area: eight;
                    --x: 500%;
                    --y: 200%;
                }

                animation-name: animate-boxes, animate-lines;
                animation-timing-function: linear;
                animation-fill-mode: both;
                animation-timeline: scroll();
                animation-duration: 1ms;

                /* center */

                &.center {
                    grid-area: center;
                    background-color: #333;
                    color: white;
                    display: grid;
                    place-content: center;
                    width: var(--mouse-w, 600px);
                    aspect-ratio: 1;
                    translate: var(--center-x) var(--center-y);

                    animation-name: animate-center;
                    animation-timing-function: linear;
                    animation-fill-mode: both;
                    animation-timeline: scroll();
                    animation-duration: 1ms; /* for Firefox */
                }

                &.center > hgroup {
                    font-weight: 300;
                    opacity: var(--text-opacity, 1);
                    display: var(--text-display, block);
                }

                &.center > .mouse {
                    position: absolute;
                    display: block;
                    bottom: 50px;
                    left: 50%;
                    translate: -50% 50%;
                    width: 50px;
                    height: 50px;
                    rotate: var(--mouse-rotate, 0deg);
                }
            }

            @keyframes animate-center {
                25%,
                65% {
                    --mouse-w: 300px;
                    --center-x: -100px;
                    --center-y: -100px;
                    --text-opacity: 0;
                }
                70% {
                    --text-display: none;
                }
                95% {
                    --mouse-rotate: 0deg;
                }
                100% {
                    --mouse-w: calc(var(--size-base));
                    --center-x: 0;
                    --center-y: 0;
                    --text-display: none;
                    --mouse-rotate: 180deg;
                }
            }

            @keyframes animate-boxes {
                0%,
                15% {
                    translate: var(--x) var(--y);
                }
                100% {
                    translate: 0;
                }
            }
        }

        @layer base {
            * {
                box-sizing: border-box;
            }

            html {
                scroll-behavior: smooth;
            }

            body {
                background: #111;
                margin: 0;
                font-family: "Jura", sans-serif;
            }

            .msg-supports {
                position: fixed;
                top: 0;
                width: 100%;
                display: block;
                z-index: 9999;
                scale: 1;
                color: white;
                background: red;
                margin: 0;
                padding: 1rem;
                text-align: center;
                border-block-end: 1px solid rgba(255 255 255 / .5);

            }

            @supports (animation-timeline: auto) {
                .msg-supports {
                    display: none;
                }
            }
        }
    </style>
</head>
<body>
<p class="msg-supports">Sorry, your browser does not support <code>animation-timeline</code></p>
<section class="wrapper">
    <div style="--bg:url(https://picsum.photos/id/943/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/553/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/380/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/1072/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/824/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/820/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/702/800/600);"></div>
    <div style="--bg:url(https://picsum.photos/id/883/800/600);"></div>

    <div class="center" style="--bg:url(https://picsum.photos/id/876/600/600);">
        <hgroup>
            <h1>Sliding images</h1>
            <p>Scroll to reveal the images</p>

        </hgroup>
        <svg class="mouse" fill="none" height="40" stroke="currentColor" stroke-linecap="round"
             stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 40" width="40" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 0h24v24H0z" fill="none" stroke="none"/>
            <path d="M6 3m0 4a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-4a4 4 0 0 1 -4 -4z"/>
            <path d="M12 7l0 4"/>

            <!-- Downward Chevron Arrow -->
            <path d="M8 26l4 4l4 -4">
                <animateTransform attributeName="transform" attributeType="XML" dur="1s" repeatCount="indefinite"
                                  type="translate" values="0 0; 0 4; 0 0"/>
            </path>
        </svg>

    </div>

</section>
</body>
</html>
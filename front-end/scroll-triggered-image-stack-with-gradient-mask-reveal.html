<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scroll-Triggered Image Stack with Gradient Mask Reveal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Lexend', sans-serif;
        }

        section,
        .content {
            width: 100%;
            height: 100svh;
            overflow: hidden;
        }

        .images {
            position: absolute;
            width: 100%;
            height: 100%;

            img {
                position: absolute;
                width: 100%;
                height: 100%;
                object-fit: cover;
                object-position: center;
                z-index: var(--index);
                will-change: mask-image;
            }
        }

        .content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            z-index: 10;
            color: #fff;
            font-size: 20px;
        }

        .content .top,
        .content .bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        .content .center {
            width: 100%;
            max-width: clamp(300px, 80vw, 1000px);
            margin: auto;
            display: flex;
            flex-direction: column;
            gap: 100px;
        }

        .content .center .title-center {
            text-align: center;
            font-size: clamp(30px, 8vw, 100px);
        }

        .content .center .title-bottom {
            text-align: right;
        }

        .last-section {
            width: 100%;
            height: 100svh;
            background: black;
            color: #fff;
            font-size: clamp(30px, 8vw, 100px);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>
<body>
<section class="hero">
    <div class="images">
        <img alt="image" src="https://images.pexels.com/photos/2251203/pexels-photo-2251203.jpeg">
        <img alt="image" class="mask-img" src="https://images.pexels.com/photos/17347144/pexels-photo-17347144.jpeg"
             style="--index: 5;">
        <img alt="image" class="mask-img" src="https://images.pexels.com/photos/16873274/pexels-photo-16873274.jpeg"
             style="--index: 4;">
        <img alt="image" class="mask-img" src="https://images.pexels.com/photos/11545780/pexels-photo-11545780.jpeg"
             style="--index: 3;">
        <img alt="image" class="mask-img" src="https://images.pexels.com/photos/27638156/pexels-photo-27638156.jpeg"
             style="--index: 2;">
        <img alt="image" class="mask-img" src="https://images.pexels.com/photos/5491004/pexels-photo-5491004.jpeg"
             style="--index: 1;">
    </div>

    <div class="content">
        <div class="top">
            <div class="top-left">
                <p>Creative Studio</p>
                <p>Digital Agency</p>
            </div>
            <div class="top-right">
                <p>Portfolio 2024</p>
                <p>Latest Work</p>
            </div>
        </div>
        <div class="center">
            <div class="top-title">
                <p>We Create</p>
            </div>
            <div class="title-center">
                <h1>Digital Experiences</h1>
            </div>
            <div class="title-bottom">
                <p>That Matter</p>
            </div>
        </div>
        <div class="bottom">
            <div class="top-left">
                <p>Web Design</p>
                <p>Brand Identity</p>
            </div>
            <div class="top-right">
                <p>UI/UX Design</p>
                <p>Development</p>
            </div>
        </div>
    </div>
</section>
<section class="last-section">
    <div class="last-section-content">
        <h1>Let's Create Together</h1>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/lenis@1.3.8/dist/lenis.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        gsap.registerPlugin(ScrollTrigger);

        const lenis = new Lenis();
        lenis.on('scroll', ScrollTrigger.update);
        gsap.ticker.add((time) => {
            lenis.raf(time * 1000);
        });
        gsap.ticker.lagSmoothing(0);

        const images = document.querySelectorAll('.images img');
        const content = document.querySelector('.content');


        ScrollTrigger.create({
            trigger: '.hero',
            start: 'top top',
            end: `+=${window.innerHeight * 4}px`,
            pin: true,
            pinSpacing: true,
            scrub: 1,
            onUpdate: (self) => {
                const progress = self.progress;

                const totalImages = gsap.utils.toArray('.images .mask-img').length;
                const segmentSize = 1 / totalImages;

                gsap.utils.toArray('.images .mask-img').forEach((img, index) => {
                    const imageStart = index * segmentSize;
                    const imageEnd = (index + 1) * segmentSize;

                    let imageProgress = 0;

                    if (progress >= imageStart && progress <= imageEnd) {
                        imageProgress = (progress - imageStart) / segmentSize;
                    } else if (progress > imageEnd) {
                        imageProgress = 1;
                    }

                    const leftgradie = 50 - (imageProgress * 50);
                    const rightgradie = 50 + (imageProgress * 50);
                    const deg = 90 + (imageProgress * 40);
                    gsap.set(img, {
                        maskImage: `linear-gradient(${deg}deg, black ${leftgradie}%, transparent ${leftgradie}%, transparent ${rightgradie}%, black ${rightgradie}%)`
                    });
                });
            }
        });
    });
</script>
</body>
</html>